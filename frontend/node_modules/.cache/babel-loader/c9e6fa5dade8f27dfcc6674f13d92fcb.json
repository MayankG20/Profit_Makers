{"ast":null,"code":"var _jsxFileName = \"/home/mayank/Desktop/sem4/dass/Assignment2/Profit_Makers/frontend/src/components/student/order.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nexport default class order extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ordernow = e => {\n      console.log(e.currentTarget); // console.log(id);\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.findProducts = this.findProducts.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.sorting = this.sorting.bind(this);\n    this.getHighlightedText = this.getHighlightedText.bind(this);\n    this.ordernow = this.ordernow.bind(this);\n    this.state = {\n      name: \"\",\n      products: [],\n      html1: \"\",\n      sort: \"price\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/product/').then(res => {\n      console.log(res.data);\n      this.setState({\n        products: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  findProducts(wordToMatch) {\n    wordToMatch = wordToMatch.replace(/\\\\/g, \"\\\\\\\\\");\n    return this.state.products.filter(prod => {\n      const reg = new RegExp(wordToMatch, 'gi');\n      return prod.name.match(reg);\n    });\n  }\n\n  sorting(a, b) {\n    if (this.state.sort === \"price\") return Number(a.price) - Number(b.price);else if (this.state.sort === \"qleft\") {\n      const x1 = Number(a.quantity) - Number(a.order);\n      const x2 = Number(b.quantity) - Number(b.order);\n      return x2 - x1;\n    } else {\n      return a.name - b.name;\n    }\n  }\n\n  getHighlightedText(text, higlight) {\n    console.log(text, higlight); // Split on higlight term and include term into parts, ignore case\n\n    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n    return React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \" \", parts.map(part => React.createElement(\"span\", {\n      style: part.toLowerCase() === higlight.toLowerCase() ? {\n        backgroundColor: \"lightgreen\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, part)), \" \");\n  }\n\n  productsList() {\n    let pros = this.findProducts(this.state.name);\n    console.log(pros); // console.log(this.state.sort);\n\n    pros.sort((a, b) => this.sorting(a, b)); // console.log(pros);\n\n    let search = [];\n    pros.map(prod => {\n      // const regex = new RegExp(this.state.name,'gi');\n      const qleft = Number(prod.quantity) - Number(prod.order);\n      var currentitem = {};\n      const name1 = this.getHighlightedText(prod.name, this.state.name); // console.log(name1);\n\n      currentitem.name = prod.name;\n      currentitem.vname = prod.vendorname;\n      currentitem.price = prod.price;\n      currentitem.qleft = qleft; // console.log(prod._id);\n      // console.log(currentitem);\n\n      search.push(React.createElement(\"li\", {\n        key: prod._id,\n        onClick: this.ordernow.bind(this),\n        \"data-id\": prod._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, name1, React.createElement(\"span\", {\n        style: {\n          fontSize: \"17px\",\n          width: \"25%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, currentitem.vname), React.createElement(\"span\", {\n        style: {\n          fontSize: \"16px\",\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, currentitem.price), React.createElement(\"span\", {\n        style: {\n          fontSize: \"15px\",\n          width: \"10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, currentitem.qleft), React.createElement(\"button\", {\n        style: {\n          width: \"20%\",\n          borderRadius: \"1px\",\n          letterSpacing: \".1px\",\n          color: \"white\"\n        },\n        type: \"submit\",\n        className: \"btn btn-info btn-large waves-effect waves-light hoverable accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Buy Now\")));\n      return 0;\n    });\n    return search;\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\",\n        fontSize: \"30px\",\n        fontFamily: \"Courier New\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Hello \", this.props.match.params.id), React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        marginTop: \"-4rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Sort By: \"), React.createElement(\"select\", {\n      value: this.state.sort,\n      onChange: this.onChange,\n      id: \"sort\",\n      default: \"added date\",\n      style: {\n        width: \"25%\",\n        marginTop: \"-1.5rem\"\n      },\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"option\", {\n      value: \"qleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Quantity left\"), React.createElement(\"option\", {\n      value: \"rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Rating\"))), React.createElement(\"div\", {\n      className: \"searchp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"search-form\",\n      style: {\n        maxWidth: \"400px\",\n        margin: \"50px auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"Product Name\",\n      style: {\n        margin: \"0px\",\n        textAlign: \"center\",\n        outline: \"0px\",\n        border: \"10px solid #F7F7F7\",\n        width: \"120%\",\n        left: \"0%\",\n        position: \"relative\",\n        top: \"10px\",\n        zIndex: \"2\",\n        borderRadius: \"5px\",\n        fontSize: \"30px\",\n        boxShadow: \"0 0 5px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.19)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"suggestions\",\n      style: {\n        width: \"150%\",\n        left: \"-13%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"24%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Product Name\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"25%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Vendor\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Price\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"19%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Quantity Left\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"18%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Order It\"))), this.productsList()))));\n  }\n\n}","map":{"version":3,"sources":["/home/mayank/Desktop/sem4/dass/Assignment2/Profit_Makers/frontend/src/components/student/order.js"],"names":["React","Component","BrowserRouter","Router","axios","order","constructor","props","ordernow","e","console","log","currentTarget","onChange","setState","target","id","value","findProducts","bind","sorting","getHighlightedText","state","name","products","html1","sort","errors","componentDidMount","get","then","res","data","catch","err","wordToMatch","replace","filter","prod","reg","RegExp","match","a","b","Number","price","x1","quantity","x2","text","higlight","parts","split","fontSize","width","map","part","toLowerCase","backgroundColor","productsList","pros","search","qleft","currentitem","name1","vname","vendorname","push","_id","borderRadius","letterSpacing","color","render","textAlign","fontFamily","params","float","marginTop","maxWidth","margin","outline","border","left","position","top","zIndex","boxShadow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\n\nexport default class order extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.findProducts = this.findProducts.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.sorting = this.sorting.bind(this);\n\t\tthis.getHighlightedText = this.getHighlightedText.bind(this);\n\t\tthis.ordernow = this.ordernow.bind(this);\n\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tproducts: [],\n\t\t\thtml1: \"\",\n\t\t\tsort: \"price\",\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:4000/product/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tproducts: res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tordernow = e => {\n\t\tconsole.log(e.currentTarget);\n\t\t// console.log(id);\n\t}\n\n\tfindProducts(wordToMatch){\n\t\twordToMatch = wordToMatch.replace(/\\\\/g,\"\\\\\\\\\");\n\t\treturn this.state.products.filter(prod => {\n\t\t\tconst reg = new RegExp(wordToMatch,'gi');\n\t\t\treturn prod.name.match(reg);\n\t\t})\n\t}\n\n\tonChange = e => {\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value\n\t\t});\n\n\t};\n\n\tsorting(a,b){\n\t\tif(this.state.sort===\"price\")\n\t\t\t\treturn Number(a.price)-Number(b.price);\n\t\telse if(this.state.sort===\"qleft\"){\n\t\t\tconst x1=Number(a.quantity)-Number(a.order);\n\t\t\tconst x2=Number(b.quantity)-Number(b.order);\n\t\t\treturn x2-x1;\n\t\t}\n\t\telse{\n\t\t\treturn a.name-b.name;\n\t\t}\n\t}\n\n\tgetHighlightedText(text, higlight) {\n\t\tconsole.log(text,higlight);\n    // Split on higlight term and include term into parts, ignore case\n    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n    return <span style={{ fontSize: \"19px\",width:\"20%\"}}> { parts.map((part) => \n        <span style={ part.toLowerCase() === higlight.toLowerCase()?{ backgroundColor:\"lightgreen\" }:{}}>\n            { part }\n        </span>)\n    } </span>;\n}\n\n\tproductsList(){\n\t\tlet pros = this.findProducts(this.state.name);\n\t\tconsole.log(pros);\n\t\t// console.log(this.state.sort);\n\t\tpros.sort((a,b) => this.sorting(a,b));\n\t\t// console.log(pros);\n\t\tlet search=[]\n\t\tpros.map(prod => {\n\t\t\t// const regex = new RegExp(this.state.name,'gi');\n\t\t\tconst qleft=Number(prod.quantity)-Number(prod.order);\n\t\t\tvar currentitem={};\n\t\t\tconst name1 = this.getHighlightedText(prod.name,this.state.name);\n\t\t\t// console.log(name1);\n\t\t\tcurrentitem.name=prod.name;\n\t\t\tcurrentitem.vname=prod.vendorname;\n\t\t\tcurrentitem.price=prod.price;\n\t\t\tcurrentitem.qleft = qleft;\n\t\t\t// console.log(prod._id);\n\t\t\t// console.log(currentitem);\n\t\t\tsearch.push(<li key={prod._id} onClick={this.ordernow.bind(this)} data-id={prod._id}>\n\t\t\t\t\t\t{name1}\n\t\t\t\t\t\t<span style={{ fontSize: \"17px\",width:\"25%\"}}>{currentitem.vname}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"16px\",width:\"15%\"}}>{currentitem.price}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"15px\",width:\"10%\"}}>{currentitem.qleft}</span>\n\t\t\t\t\t\t<button\tstyle={{width:\"20%\",borderRadius:\"1px\",letterSpacing:\".1px\",color:\"white\"}} type=\"submit\" className=\"btn btn-info btn-large waves-effect waves-light hoverable accent-3\">Buy Now</button>\n\t\t\t\t\t\t</li> )\n\t\t\treturn 0;\n\t\t});\n\n\t\treturn search;\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<Router>\n\t\t\t<div style={{textAlign:\"right\",fontSize:\"30px\",fontFamily:\"Courier New\",color:\"blue\"}}>Hello {this.props.match.params.id}</div>\n\t\t\t\t<div className=\"input-field col s12\" style={{float:\"left\"}}>\n\t\t\t\t\t<label style={{marginTop:\"-4rem\"}}>Sort By: </label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tvalue={this.state.sort}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tid=\"sort\"\n\t\t\t\t\t\tdefault=\"added date\"\n\t\t\t\t\t\tstyle={{width:\"25%\",marginTop:\"-1.5rem\"}}\n\t\t\t\t\t\tclassName=\"form-control\">\n\t\t\t\t\t\t<option value=\"price\">Price</option>\n\t\t\t\t\t\t<option value=\"qleft\">Quantity left</option>\n\t\t\t\t\t\t<option value=\"rating\">Rating</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"searchp\">\n\t\t\t\t<form className=\"search-form\" style={{maxWidth: \"400px\",margin:\"50px auto\"}}>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"text\"  \n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tvalue= {this.state.name}\n\t\t\t\t\t\tonChange= {this.onChange}\n\t\t\t\t\t\tplaceholder =\"Product Name\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"0px\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\toutline: \"0px\",\n\t\t\t\t\t\t\tborder: \"10px solid #F7F7F7\",\n\t\t\t\t\t\t\twidth: \"120%\",\n\t\t\t\t\t\t\tleft: \"0%\",\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t\ttop: \"10px\",\n\t\t\t\t\t\t\tzIndex: \"2\",\n\t\t\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\t\t\tfontSize: \"30px\",\n\t\t\t\t\t\t\tboxShadow: \"0 0 5px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.19)\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<ul className=\"suggestions\" style={{width:\"150%\",left:\"-13%\"}}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"24%\"}}><b>Product Name</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"25%\"}}><b>Vendor</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"20%\"}}><b>Price</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"19%\"}}><b>Quantity Left</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"18%\"}}><b>Order It</b></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{this.productsList()}\n\t\t\t\t\t</ul>\n\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}