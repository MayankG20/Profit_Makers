{"ast":null,"code":"var _jsxFileName = \"/home/mayank/Desktop/4sem/dass/Assignment2/Profit_Makers/frontend/src/components/student/view-order1.js\";\nimport React, { Component } from 'react';\nimport { Link, BrowserRouter as Router } from 'react-router-dom';\nimport axios from 'axios';\nimport Place from './place-order1';\nimport BeautyStars from 'beauty-stars';\nimport viewOrders from './view-order1';\n\nconst Orders = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, props.order.pname), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, props.order.price), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, props.order.vname), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, props.order.status), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, props.order.qtyordered), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, props.order.qtyleft));\n\nclass Overlay extends Component {\n  //\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.calcprice = e => {\n      e.preventDefault();\n      const order = Number(this.state.value);\n      const qlef = Number(this.props.qtyl) + Number(this.props.qtyo);\n      console.log(order, qlef);\n\n      if (order > qlef) {\n        this.setState({\n          cost: \"Not in Stock\",\n          display: \"none\",\n          display1: \"none\",\n          display2: \"block\"\n        });\n      } else {\n        var cost = order * Number(this.props.price);\n        this.setState({\n          cost: cost,\n          display: \"none\",\n          display1: \"block\",\n          display2: \"none\"\n        });\n      }\n    };\n\n    this.placeOrder = e => {\n      e.preventDefault();\n      const node = {\n        value: this.props.pid,\n        order: Number(this.state.value) - Number(this.props.qtyo)\n      };\n      console.log(node);\n      axios.post('http://localhost:4000/product/update/', node).then(res => {\n        console.log(res.data);\n        var x = res.data;\n        console.log(x);\n        const order = {\n          value: this.props.id,\n          order: this.state.value\n        };\n        console.log(order);\n        axios.post('http://localhost:4000/order/update/quantity', order).then(res => {\n          console.log(res.data);\n          const node1 = {\n            pid: this.props.pid,\n            status: x\n          };\n          axios.post('http://localhost:4000/order/update/status', node1).then(res => {\n            console.log(res.data);\n            window.location.reload();\n          });\n          this.setState({\n            display: \"block\",\n            display2: \"none\",\n            display1: \"none\"\n          });\n          this.props.updateState();\n        });\n      });\n    };\n\n    this.off1 = e => {\n      this.setState({\n        display: \"block\",\n        display2: \"none\",\n        display1: \"none\"\n      });\n      this.props.updateState();\n    };\n\n    this.state = {\n      value: \"\",\n      cost: \"\",\n      pqleft: 0,\n      pprice: 0,\n      display: \"block\",\n      disp: \"block\",\n      display1: \"none\",\n      display2: \"none\"\n    };\n  }\n\n  render() {\n    //send some this.state variables to use in this component\n    var x = Number(this.props.qtyl) + Number(this.props.qtyo); // var y = Number(this.props.price);\n\n    return React.createElement(\"div\", {\n      style: {\n        position: \"fixed\",\n        display: \"block\",\n        overflow: \"auto\",\n        width: \"15%\",\n        height: \"35%\",\n        top: \"30%\",\n        left: \"82%\",\n        right: \"5%\",\n        backgroundColor: \"rgba(0,0,0,0)\",\n        zIndex: \"93\",\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        display: this.state.display,\n        color: \"blue\",\n        fontSize: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Maximum Quantity you can order is \", x), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"You have already ordered \", this.props.qtyo), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        fontSize: \"20px\",\n        fontFamily: \"monospace\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.props.pname, \" required: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      id: \"value\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn btn-primary\",\n      onClick: this.calcprice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        display: this.state.display1,\n        color: \"green\",\n        fontSize: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"It will cost you: \", this.state.cost), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Place Order\",\n      className: \"btn btn-success\",\n      onClick: this.placeOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        display: this.state.display2,\n        color: \"red\",\n        fontSize: \"30px\"\n      },\n      onClick: this.off1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, this.state.cost)));\n  }\n\n}\n\nclass Rr extends Component {\n  constructor(props) {\n    super(props);\n\n    this.giverating = e => {\n      this.setState({\n        rat: e\n      });\n    };\n\n    this.handleChange = e => {\n      console.log(e);\n      this.setState({\n        rev: e\n      });\n    };\n\n    this.productRr = e => {\n      const node = {\n        value: this.props.pid,\n        rev: this.state.rev,\n        rat: this.state.rat\n      };\n      console.log(node);\n      axios.post('http://localhost:4000/product/updaterr/', node).then(res => {\n        console.log(res.data);\n        this.setState({\n          display1: false\n        });\n      });\n    };\n\n    this.giverating = this.giverating.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.productRr = this.productRr.bind(this);\n    this.state = {\n      rev: \"\",\n      rat: 0,\n      display: true,\n      display1: false\n    };\n    console.log(this.state);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        float: \"right\",\n        width: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: this.state.display,\n        float: \"right\",\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"orange\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Rate the Product :\", React.createElement(BeautyStars, {\n      value: this.state.rat,\n      onChange: this.giverating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        display: this.state.display\n      },\n      className: \"input-field col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Review the Product: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.rev,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn btn-primary\",\n      onClick: this.calcprice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default class ViewOrders extends Component {\n  //\n  constructor(props) {\n    super(props);\n\n    this.changeorder = e => {\n      console.log(e.currentTarget);\n      var x = e.currentTarget.dataset;\n      console.log(x);\n      this.setState({\n        display: false\n      });\n\n      if (e.currentTarget.dataset.status == \"Waiting\") {\n        this.setState({\n          display: true,\n          display1: false,\n          qtyo: x.qtyordered,\n          qtyl: x.qtyleft,\n          pname: x.pname,\n          price: x.price,\n          vname: x.vname,\n          id: x.id,\n          pid: x.pid,\n          status: x.status\n        });\n      } else if (e.currentTarget.dataset.status == \"Dispatched\") {\n        this.setState({\n          display1: true,\n          display: false,\n          pid: x.pid\n        });\n      }\n    };\n\n    this.ordersList = this.ordersList.bind(this);\n    this.formorders = this.formorders.bind(this);\n    this.changeorder = this.changeorder.bind(this);\n    this.updateState = this.updateState.bind(this);\n    this.state = {\n      orders: [],\n      products: [],\n      orderlist: [],\n      display: false,\n      display1: false,\n      qtyo: 0,\n      qtyl: 0,\n      price: 0,\n      id: 0,\n      pid: 0,\n      pname: \"\",\n      vname: \"\",\n      status: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/order/student/' + this.props.match.params.id).then(res => {\n      console.log(res.data);\n      this.setState({\n        orders: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(this.state.orders);\n    axios.get('http://localhost:4000/product/').then(res => {\n      console.log(res.data);\n      this.setState({\n        products: res.data\n      });\n      this.formorders();\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(this.state.products);\n  }\n\n  updateState() {\n    this.setState({\n      display: false\n    });\n  }\n\n  formorders() {\n    var i, j;\n    var node1 = [];\n\n    for (i = 0; i < this.state.orders.length; i++) {\n      var order = this.state.orders[i];\n      var node = {\n        id: order._id,\n        pname: order.pname,\n        price: 0,\n        pid: order.pid,\n        vname: order.vname,\n        status: order.status,\n        qtyordered: order.qtyorder,\n        qtyleft: 0\n      };\n\n      for (j = 0; j < this.state.products.length; j++) {\n        if (order.pid === this.state.products[j]._id) {\n          node.price = this.state.products[j].price;\n\n          if (this.state.products[j].status === \"Not Dispatched\") {\n            node.status = \"Waiting\";\n          } else if (this.state.products[j].status === \"Ready\") {\n            node.status = \"Placed\";\n          } else {\n            node.status = this.state.products[j].status;\n          }\n\n          node.qtyleft = Number(this.state.products[j].quantity) - Number(this.state.products[j].order);\n        }\n      }\n\n      node1.push(node);\n    }\n\n    this.setState({\n      orderlist: node1\n    });\n    console.log(this.state.orderlist);\n  }\n\n  ordersList() {\n    return this.state.orderlist.map(currentord => {\n      console.log(currentord);\n      return React.createElement(\"tr\", {\n        onClick: this.changeorder.bind(this),\n        \"data-id\": currentord.id,\n        \"data-pid\": currentord.pid,\n        \"data-pname\": currentord.pname,\n        \"data-price\": currentord.price,\n        \"data-vname\": currentord.vname,\n        \"data-status\": currentord.status,\n        \"data-qtyordered\": currentord.qtyordered,\n        \"data-qtyleft\": currentord.qtyleft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, currentord.pname), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, currentord.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, currentord.vname), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, currentord.status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, currentord.qtyordered), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, currentord.qtyleft));\n    });\n  }\n\n  render() {\n    //\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, this.state.display ? React.createElement(Overlay, {\n      qtyl: this.state.qtyl,\n      qtyo: this.state.qtyo,\n      price: this.state.price,\n      pname: this.state.pname,\n      updateState: this.updateState,\n      pid: this.state.pid,\n      id: this.state.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }) : null, React.createElement(\"div\", {\n      style: {\n        zIndex: \"1\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"2vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      style: {\n        fontFamily: \"monospace\",\n        color: \"skyblue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"List of all Your Orders\"), React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"3vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"Vendor Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, \"Qty Ordered\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, \"Qty Left\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, this.ordersList()))), this.state.display1 ? React.createElement(Rr, {\n      pid: this.state.pid,\n      id: this.state.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/home/mayank/Desktop/4sem/dass/Assignment2/Profit_Makers/frontend/src/components/student/view-order1.js"],"names":["React","Component","Link","BrowserRouter","Router","axios","Place","BeautyStars","viewOrders","Orders","props","order","pname","price","vname","status","qtyordered","qtyleft","Overlay","constructor","handleChange","e","setState","target","id","value","calcprice","preventDefault","Number","state","qlef","qtyl","qtyo","console","log","cost","display","display1","display2","placeOrder","node","pid","post","then","res","data","x","node1","window","location","reload","updateState","off1","pqleft","pprice","disp","render","position","overflow","width","height","top","left","right","backgroundColor","zIndex","cursor","color","fontSize","fontFamily","Rr","giverating","rat","rev","productRr","bind","float","ViewOrders","changeorder","currentTarget","dataset","ordersList","formorders","orders","products","orderlist","componentDidMount","get","match","params","catch","err","i","j","length","_id","qtyorder","quantity","push","map","currentord"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Link ,BrowserRouter as Router} from 'react-router-dom';\nimport axios from 'axios';\nimport Place from './place-order1';\nimport BeautyStars from 'beauty-stars';\nimport viewOrders from './view-order1';\n\nconst Orders = props => (\n\t<tr>\n\t\t<td>{props.order.pname}</td>\n\t\t<td>{props.order.price}</td>\n\t\t<td>{props.order.vname}</td>\n\t\t<td>{props.order.status}</td>\n\t\t<td>{props.order.qtyordered}</td>\n\t\t<td>{props.order.qtyleft}</td>\n\t</tr>\n);\n\n\nclass Overlay extends Component{\n\t//\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tvalue:\"\",\n\t\t\tcost:\"\",\n\t\t\tpqleft:0,\n\t\t\tpprice:0,\n\t\t\tdisplay:\"block\",\n\t\t\tdisp:\"block\",\n\t\t\tdisplay1:\"none\",\n\t\t\tdisplay2:\"none\"\n\t\t};\n\t}\n\thandleChange = e =>{\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value\n\t\t});\n\n\t}\n\tcalcprice = e =>{\n\t\te.preventDefault();\n\n\t\tconst order = Number(this.state.value);\n\t\tconst qlef = Number(this.props.qtyl)+ Number(this.props.qtyo);\n\t\tconsole.log(order,qlef);\n\t\tif(order>qlef){\n\t\t\tthis.setState({\n\t\t\t\tcost:\"Not in Stock\",\n\t\t\t\tdisplay:\"none\",\n\t\t\t\tdisplay1:\"none\",\n\t\t\t\tdisplay2:\"block\"\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tvar cost = order*(Number(this.props.price));\n\t\t\tthis.setState({\n\t\t\t\tcost: cost,\n\t\t\t\tdisplay:\"none\",\n\t\t\t\tdisplay1:\"block\",\n\t\t\t\tdisplay2:\"none\"\n\t\t\t})\n\t\t}\n\n\t}\n\tplaceOrder = e => {\n\t\te.preventDefault();\n\n\t\tconst node={\n\t\t\tvalue:this.props.pid,\n\t\t\torder:Number(this.state.value)-Number(this.props.qtyo)\n\t\t}\n\t\tconsole.log(node);\n\t\taxios.post('http://localhost:4000/product/update/',node)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tvar x=res.data;\n\t\t\t\tconsole.log(x);\n\t\t\t\tconst order = {\n\t\t\t\t\tvalue: this.props.id,\n\t\t\t\t\torder:this.state.value\n\t\t\t\t}\n\t\t\t\tconsole.log(order);\n\t\t\t\taxios.post('http://localhost:4000/order/update/quantity',order)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tconst node1={\n\t\t\t\t\t\t\tpid:this.props.pid,\n\t\t\t\t\t\t\tstatus:x\n\t\t\t\t\t\t}\n\t\t\t\t\t\taxios.post('http://localhost:4000/order/update/status',node1)\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tdisplay:\"block\",\n\t\t\t\t\t\t\tdisplay2:\"none\",\n\t\t\t\t\t\t\tdisplay1:\"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.props.updateState();\n\t\t\t\t\t})\n\n\t\t\t})\n\n\t}\n\toff1 = e => {\n\t\tthis.setState({\n\t\t\tdisplay:\"block\",\n\t\t\tdisplay2:\"none\",\n\t\t\tdisplay1:\"none\"\n\t\t})\n\t\tthis.props.updateState();\n\t}\n\trender(){\n\t\t//send some this.state variables to use in this component\n\t\tvar x= Number(this.props.qtyl)+ Number(this.props.qtyo);\n\t\t// var y = Number(this.props.price);\n\t\treturn (\n\t\t\t<div \n\t\t\t\tstyle={{\n\t\t\t\t\t  position: \"fixed\",\n\t\t\t\t\t  display: \"block\",\n\t\t\t\t\t  overflow: \"auto\",\n\t\t\t\t\t  width: \"15%\",\n\t\t\t\t\t  height: \"35%\",\n\t\t\t\t\t  top: \"30%\",\n\t\t\t\t\t  left:\"82%\",\n\t\t\t\t\t  right:\"5%\",\n\t\t\t\t\t  backgroundColor: \"rgba(0,0,0,0)\",\n\t\t\t\t\t  zIndex: \"93\",\n\t\t\t\t\t  cursor: \"pointer\",\n\t\t\t\t}}>\n\t\t\t\t<div style={{width:\"100%\",height:\"20%\"}}></div>\n\t\t\t\t<div style={{display:this.state.display,color:\"blue\",fontSize:\"20px\"}}>\n\t\t\t\t\t<b>Maximum Quantity you can order is {x}</b>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<b>You have already ordered {this.props.qtyo}</b>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<label style={{fontSize:\"20px\",fontFamily:\"monospace\",color:\"blue\"}}>\n\t\t\t\t\t\t\t<b>{this.props.pname} required: </b>\n\t\t\t\t\t\t\t<input type=\"text\" value={this.state.value}\n\t\t\t\t\t\t\t\tid=\"value\"\n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" onClick={this.calcprice} />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display1,color:\"green\",fontSize:\"20px\"}}>\n\t\t\t\t\t<b>It will cost you: {this.state.cost}</b>\n\t\t\t\t\t<input type=\"submit\" value=\"Place Order\" className=\"btn btn-success\" onClick={this.placeOrder}/>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display2,color:\"red\",fontSize:\"30px\"}} onClick={this.off1}>\n\t\t\t\t\t<b>{this.state.cost}</b>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Rr extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.giverating = this.giverating.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.productRr = this.productRr.bind(this);\n\t\tthis.state = {\n\t\t\trev:\"\",\n\t\t\trat:0,\n\t\t\tdisplay: true,\n\t\t\tdisplay1: false\n\t\t}\n\t\tconsole.log(this.state);\n\t}\n\n\tgiverating = e => {\n\t\tthis.setState({\n\t\t\trat: e\n\t\t})\n\t}\n\n\thandleChange = e => {\n\t\tconsole.log(e);\n\t\tthis.setState({\n\t\t\trev: e\n\t\t})\n\t}\n\n\tproductRr = e => {\n\t\tconst node = {\n\t\t\tvalue: this.props.pid,\n\t\t\trev: this.state.rev,\n\t\t\trat: this.state.rat\n\t\t}\n\t\tconsole.log(node);\n\t\taxios.post('http://localhost:4000/product/updaterr/',node)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tdisplay1: false\n\t\t\t\t})\n\t\t\t})\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<div style={{float:\"right\",width:\"30%\"}}>\n\t\t\t<div style={{display:this.state.display,float:\"right\",fontSize:\"20px\",fontFamily:\"Courier New\",color:\"orange\"}}>\n\t\t\t\t\tRate the Product :\n\t\t\t\t\t\t<BeautyStars\n\t\t\t\t\t\t\tvalue={this.state.rat}\n\t\t\t\t\t\t\tonChange={this.giverating}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t</div>\n\t\t\t<div style={{display:this.state.display}} className=\"input-field col s12\">\n\t\t\t\t\t<form style={{float:\"right\"}}>\n\t\t\t\t\t\t<label style={{fontSize:\"20px\",fontFamily:\"Courier New\",color:\"blue\"}}>\n\t\t\t\t\t\t\t<b>Review the Product: </b>\n\t\t\t\t\t\t\t<input type=\"text\" value={this.state.rev}\n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" onClick={this.calcprice} />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default class ViewOrders extends Component {\n\t//\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.ordersList = this.ordersList.bind(this);\n\t\tthis.formorders = this.formorders.bind(this);\n\t\tthis.changeorder = this.changeorder.bind(this);\n\t\tthis.updateState = this.updateState.bind(this);\n\t\tthis.state={\n\t\t\torders: [],\n\t\t\tproducts:[],\n\t\t\torderlist:[],\n\t\t\tdisplay:false,\n\t\t\tdisplay1: false,\n\t\t\tqtyo:0,\n\t\t\tqtyl:0,\n\t\t\tprice:0,\n\t\t\tid:0,\n\t\t\tpid:0,\n\t\t\tpname:\"\",\n\t\t\tvname:\"\",\n\t\t\tstatus:\"\"\n\t\t};\n\t}\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:4000/order/student/'+this.props.match.params.id)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\torders: res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t\tconsole.log(this.state.orders);\n\t\taxios.get('http://localhost:4000/product/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tproducts: res.data\n\t\t\t\t});\n\t\t\t\tthis.formorders();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t\tconsole.log(this.state.products);\n\t}\n\n\tupdateState(){\n\t\tthis.setState({\n\t\t\tdisplay:false\n\t\t})\n\t}\n\n\tformorders(){\n\t\tvar i,j;\n\t\t\tvar node1=[]\n\t\t\tfor(i=0;i<this.state.orders.length;i++){\n\t\t\t\tvar order=this.state.orders[i]\n\t\t\t\tvar node={\n\t\t\t\t\tid:order._id,\n\t\t\t\t\tpname:order.pname,\n\t\t\t\t\tprice:0,\n\t\t\t\t\tpid:order.pid,\n\t\t\t\t\tvname:order.vname,\n\t\t\t\t\tstatus:order.status,\n\t\t\t\t\tqtyordered: order.qtyorder,\n\t\t\t\t\tqtyleft:0\n\t\t\t\t}\n\t\t\t\tfor(j=0;j<this.state.products.length;j++){\n\t\t\t\t\tif(order.pid===this.state.products[j]._id){\n\t\t\t\t\t\tnode.price=this.state.products[j].price;\n\t\t\t\t\t\tif(this.state.products[j].status===\"Not Dispatched\"){\n\t\t\t\t\t\t\tnode.status=\"Waiting\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(this.state.products[j].status===\"Ready\"){\n\t\t\t\t\t\t\tnode.status=\"Placed\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tnode.status=this.state.products[j].status;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnode.qtyleft=Number(this.state.products[j].quantity)-Number(this.state.products[j].order);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnode1.push(node);\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\torderlist: node1\n\t\t\t})\n\t\t\tconsole.log(this.state.orderlist);\n\t}\n\n\tchangeorder = e => {\n\t\tconsole.log(e.currentTarget);\n\t\tvar x =e.currentTarget.dataset;\n\t\tconsole.log(x);\n\t\tthis.setState({\n\t\t\tdisplay: false\n\t\t})\n\t\tif(e.currentTarget.dataset.status==\"Waiting\"){\n\t\t\tthis.setState({\n\t\t\t\tdisplay: true,\n\t\t\t\tdisplay1: false,\n\t\t\t\tqtyo: x.qtyordered,\n\t\t\t\tqtyl: x.qtyleft,\n\t\t\t\tpname: x.pname,\n\t\t\t\tprice: x.price,\n\t\t\t\tvname: x.vname,\n\t\t\t\tid: x.id,\n\t\t\t\tpid: x.pid,\n\t\t\t\tstatus: x.status\n\t\t\t})\n\t\t}\n\t\telse if(e.currentTarget.dataset.status == \"Dispatched\"){\n\t\t\tthis.setState({\n\t\t\t\tdisplay1: true,\n\t\t\t\tdisplay: false,\n\t\t\t\tpid: x.pid,\n\t\t\t})\n\t\t}\n\t}\n\n\tordersList(){\n\t\treturn this.state.orderlist.map(currentord => {\n\t\t\tconsole.log(currentord);\n\t\t\treturn (\n\t\t\t\t<tr onClick={this.changeorder.bind(this)} data-id={currentord.id} data-pid={currentord.pid} data-pname={currentord.pname} data-price={currentord.price} data-vname={currentord.vname} data-status={currentord.status} data-qtyordered={currentord.qtyordered} data-qtyleft={currentord.qtyleft}>\n\t\t\t\t\t<td>{currentord.pname}</td>\n\t\t\t\t\t<td>{currentord.price}</td>\n\t\t\t\t\t<td>{currentord.vname}</td>\n\t\t\t\t\t<td>{currentord.status}</td>\n\t\t\t\t\t<td>{currentord.qtyordered}</td>\n\t\t\t\t\t<td>{currentord.qtyleft}</td>\n\t\t\t\t</tr>\n\t\t\t)\n\t\t})\n\t}\n\n\trender(){\n\t\t//\n\t\treturn (\n\t\t\t<div>\n\t\t\t{this.state.display ? <Overlay qtyl={this.state.qtyl} qtyo={this.state.qtyo} price={this.state.price} pname={this.state.pname} updateState={this.updateState} pid={this.state.pid} id={this.state.id} /> : null }\n\t\t\t<div style={{zIndex:\"1\"}}>\n\t\t\t\t<div style={{width:\"100%\",height:\"2vh\"}}></div>\n\t\t\t  <h3 style={{ fontFamily: \"monospace\", color:\"skyblue\"}}>List of all Your Orders</h3>\n\t\t\t\t<div style={{width:\"100%\",height:\"3vh\"}}></div>\n\t\t\t  <table className=\"table\">\n\t\t\t    <thead className=\"thead-light\">\n\t\t\t      <tr>\n\t\t\t        <th>Name</th>\n\t\t\t        <th>Price</th>\n\t\t\t        <th>Vendor Name</th>\n\t\t\t        <th>Status</th>\n\t\t\t        <th>Qty Ordered</th>\n\t\t\t        <th>Qty Left</th>\n\t\t\t      </tr>\n\t\t\t    </thead>\n\t\t\t    <tbody>\n\t\t\t      { this.ordersList() }\n\t\t\t    </tbody>\n\t\t\t  </table>\n\t\t\t </div>\n\t\t\t{this.state.display1 ? <Rr pid={this.state.pid} id={this.state.id} /> : null }\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}