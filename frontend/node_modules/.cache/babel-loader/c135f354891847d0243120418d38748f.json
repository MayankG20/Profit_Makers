{"ast":null,"code":"var _jsxFileName = \"/home/mayank/Desktop/4sem/dass/Assignment2/Profit_Makers/frontend/src/components/student/place-order.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BeautyStars from 'beauty-stars';\nimport viewOrders from './view-order1';\nimport Place from './place-order1';\nexport default class order extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ordernow = e => {\n      console.log(e.currentTarget);\n      this.setState({\n        alignment: \"left\",\n        display: \"block\",\n        value: \"\",\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\",\n        pid: e.currentTarget.dataset.id,\n        pname: e.currentTarget.dataset.name,\n        pprice: e.currentTarget.dataset.price,\n        pvname: e.currentTarget.dataset.vname,\n        pqleft: e.currentTarget.dataset.qleft\n      }); // document.getElementBy\n      // console.log(id);\n    };\n\n    this.onChange = e => {\n      console.log(e.target.id, e.target.value);\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n      this.setState({\n        alignment: \"center\",\n        display: \"none\",\n        value: \"\",\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\"\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value,\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\"\n      });\n    };\n\n    this.calcprice = e => {\n      e.preventDefault();\n      const order = Number(this.state.value);\n      const qlef = Number(this.state.pqleft);\n      console.log(order, qlef);\n\n      if (order > qlef) {\n        this.setState({\n          cost: \"Not in Stock\",\n          display2: \"block\",\n          display1: \"none\",\n          display3: \"none\"\n        });\n      } else {\n        var cost = order * Number(this.state.pprice);\n        this.setState({\n          cost: cost,\n          display2: \"none\",\n          display3: \"none\",\n          display1: \"block\"\n        });\n      }\n    };\n\n    this.placeOrder = e => {\n      e.preventDefault();\n      this.setState({\n        display3: \"block\",\n        display1: \"none\",\n        display2: \"none\",\n        display: \"none\"\n      }); // console.log(e);\n\n      console.log(this.state.pid, this.state.value);\n      const node = {\n        value: this.state.pid,\n        order: this.state.value\n      };\n      axios.post('http://localhost:4000/product/update/', node).then(res => {\n        console.log(res.data);\n        this.setState({\n          status: res.data\n        });\n        const order = {\n          pid: this.state.pid,\n          pname: this.state.pname,\n          vname: this.state.pvname,\n          sname: this.state.id,\n          order: this.state.value,\n          status: this.state.status\n        };\n        console.log(order);\n        axios.post('http://localhost:4000/order/add', order).then(res => {\n          console.log(res.data);\n          const node2 = {\n            pid: this.state.pid,\n            sname: this.state.id,\n            status: this.state.status\n          };\n          console.log(node2);\n          axios.post('http://localhost:4000/order/update/status', node2).then(res => {\n            console.log(res.data);\n            const node1 = {\n              name: this.state.pvname\n            };\n            console.log(node1);\n            axios.post('http://localhost:4000/vendor/vdetails/', node1).then(res => {\n              console.log(res.data);\n              console.log(res.data.rating, res.data.customers, res.data.rating / res.data.customers);\n              this.setState({\n                avg: res.data.rating / res.data.customers\n              });\n              console.log(this.state.avg);\n            });\n          });\n        });\n      });\n    };\n\n    this.giverating = e => {\n      console.log(e);\n      this.setState({\n        stars: e\n      });\n    };\n\n    this.submitrating = e => {\n      console.log(e);\n      const node = {\n        name: this.state.pvname,\n        star: this.state.stars\n      };\n      console.log(node);\n      axios.post('http://localhost:4000/vendor/rate/', node).then(res => {\n        console.log(res.data);\n        window.location.reload();\n      });\n      this.setState({\n        alignment: \"center\",\n        display3: \"none\"\n      }); // var avg=0;\n\n      const node1 = {\n        name: this.state.pvname,\n        rating: Math.round(this.state.avg * 10) / 10\n      };\n      console.log(node1);\n      axios.post('http://localhost:4000/product/updatevrating/', node1).then(res => console.log(res.data));\n      this.setState({\n        value: \"\",\n        star: 0\n      });\n    };\n\n    this.findProducts = this.findProducts.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.sorting = this.sorting.bind(this);\n    this.getHighlightedText = this.getHighlightedText.bind(this);\n    this.ordernow = this.ordernow.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.calcprice = this.calcprice.bind(this);\n    this.placeOrder = this.placeOrder.bind(this);\n    this.giverating = this.giverating.bind(this);\n    this.submitrating = this.submitrating.bind(this);\n    this.state = {\n      id: this.props.match.params.id,\n      name: \"\",\n      products: [],\n      ratedproducts: [],\n      vendors: [],\n      html1: \"\",\n      status: \"\",\n      sort: \"price\",\n      display: \"none\",\n      display1: \"none\",\n      display2: \"none\",\n      display3: \"none\",\n      alignment: \"center\",\n      pid: \"\",\n      pname: \"\",\n      pprice: \"\",\n      pvname: \"\",\n      pqleft: \"\",\n      vrating: \"\",\n      avg: 0,\n      cost: \"\",\n      value: \"\",\n      stars: 0,\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/product/').then(res => {\n      console.log(res.data);\n      this.setState({\n        products: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get('http://localhost:4000/vendor/').then(res => {\n      console.log(res.data);\n      this.setState({\n        vendors: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }); // console.log(this.state.products,this.state.vendors);\n  }\n\n  findProducts(wordToMatch) {\n    wordToMatch = wordToMatch.replace(/\\\\/g, \"\\\\\\\\\");\n    return this.state.products.filter(prod => {\n      const reg = new RegExp(wordToMatch, 'gi');\n      if (prod.status == \"Not Dispatched\") return prod.name.match(reg);\n    });\n  }\n\n  sorting(a, b) {\n    if (this.state.sort === \"price\") return Number(a.price) - Number(b.price);else if (this.state.sort === \"qleft\") {\n      const x1 = Number(a.quantity) - Number(a.order);\n      const x2 = Number(b.quantity) - Number(b.order);\n      return x1 - x2;\n    } else {\n      return b.vrating - a.vrating;\n    }\n  }\n\n  getHighlightedText(text, higlight) {\n    console.log(text, higlight); // Split on higlight term and include term into parts, ignore case\n\n    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n    return React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \" \", parts.map(part => React.createElement(\"span\", {\n      style: part.toLowerCase() === higlight.toLowerCase() ? {\n        backgroundColor: \"lightgreen\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, part)), \" \");\n  }\n\n  productsList() {\n    let pros = this.findProducts(this.state.name);\n    pros.sort((a, b) => this.sorting(a, b));\n    let search = [];\n    pros.map(prod => {\n      // const regex = new RegExp(this.state.name,'gi');\n      const qleft = Number(prod.quantity) - Number(prod.order);\n      var currentitem = {};\n      const name1 = this.getHighlightedText(prod.name, this.state.name); // console.log(name1);\n\n      currentitem.name = prod.name;\n      currentitem.vname = prod.vendorname;\n      currentitem.price = prod.price;\n      currentitem.qleft = qleft;\n      var i;\n      currentitem.vrating = 0;\n\n      for (i = 0; i < this.state.vendors.length; i++) {\n        const vend = this.state.vendors[i];\n\n        if (vend.name === prod.vendorname) {\n          if (vend.customers > 0) {\n            var x = vend.rating / vend.customers;\n            currentitem.vrating = Math.round(x * 10) / 10;\n            break;\n          }\n        }\n      }\n\n      search.push(React.createElement(\"li\", {\n        key: prod._id,\n        onClick: this.ordernow.bind(this),\n        \"data-id\": prod._id,\n        \"data-name\": currentitem.name,\n        \"data-price\": currentitem.price,\n        \"data-vname\": currentitem.vname,\n        \"data-qleft\": currentitem.qleft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, name1, React.createElement(\"span\", {\n        style: {\n          fontSize: \"19px\",\n          width: \"20%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, currentitem.vname), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, currentitem.price), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"20%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, currentitem.qleft), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, currentitem.vrating)));\n      return 0;\n    });\n    return search;\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\",\n        fontSize: \"30px\",\n        fontFamily: \"monospace\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Hello \", this.props.match.params.id), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      style: {\n        lineWidth: \"1500px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        flexWrap: \"Wrap\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-wrapper white\",\n      style: {\n        width: \"50%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/student/\" + this.props.match.params.id + \"/place\",\n      style: {\n        fontFamily: \"monospace\",\n        fontSize: \"20px\"\n      },\n      className: \"col s5 brand-logo center black-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Place Order\")), React.createElement(\"div\", {\n      className: \"nav-wrapper white\",\n      style: {\n        width: \"50%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/student/\" + this.props.match.params.id + \"/orders\",\n      style: {\n        fontFamily: \"monospace\",\n        fontSize: \"20px\"\n      },\n      className: \"col s5 brand-logo center black-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, \"Your Orders\"))))), React.createElement(Route, {\n      exact: true,\n      path: \"/student/:id/place\",\n      component: Place,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/student/:id/orders\",\n      component: viewOrders,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/mayank/Desktop/4sem/dass/Assignment2/Profit_Makers/frontend/src/components/student/place-order.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","BeautyStars","viewOrders","Place","order","constructor","props","ordernow","e","console","log","currentTarget","setState","alignment","display","value","display1","display2","display3","pid","dataset","id","pname","name","pprice","price","pvname","vname","pqleft","qleft","onChange","target","handleChange","calcprice","preventDefault","Number","state","qlef","cost","placeOrder","node","post","then","res","data","status","sname","node2","node1","rating","customers","avg","giverating","stars","submitrating","star","window","location","reload","Math","round","findProducts","bind","sorting","getHighlightedText","match","params","products","ratedproducts","vendors","html1","sort","vrating","errors","componentDidMount","get","catch","err","wordToMatch","replace","filter","prod","reg","RegExp","a","b","x1","quantity","x2","text","higlight","parts","split","fontSize","width","map","part","toLowerCase","backgroundColor","productsList","pros","search","currentitem","name1","vendorname","i","length","vend","x","push","_id","render","textAlign","fontFamily","color","lineWidth","flexDirection","justifyContent","alignItems","flexWrap"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter as Router,Route,Link} from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BeautyStars from 'beauty-stars';\nimport viewOrders from './view-order1';\nimport Place from './place-order1';\n\nexport default class order extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.findProducts = this.findProducts.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.sorting = this.sorting.bind(this);\n\t\tthis.getHighlightedText = this.getHighlightedText.bind(this);\n\t\tthis.ordernow = this.ordernow.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.calcprice = this.calcprice.bind(this);\n\t\tthis.placeOrder = this.placeOrder.bind(this);\n\t\tthis.giverating = this.giverating.bind(this);\n\t\tthis.submitrating = this.submitrating.bind(this);\n\n\t\tthis.state = {\n\t\t\tid:this.props.match.params.id,\n\t\t\tname: \"\",\n\t\t\tproducts: [],\n\t\t\tratedproducts:[],\n\t\t\tvendors: [],\n\t\t\thtml1: \"\",\n\t\t\tstatus: \"\",\n\t\t\tsort: \"price\",\n\t\t\tdisplay:\"none\",\n\t\t\tdisplay1 : \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\",\n\t\t\talignment:\"center\",\n\t\t\tpid:\"\",\n\t\t\tpname:\"\",\n\t\t\tpprice:\"\",\n\t\t\tpvname: \"\",\n\t\t\tpqleft: \"\",\n\t\t\tvrating: \"\",\n\t\t\tavg: 0,\n\t\t\tcost: \"\",\n\t\t\tvalue: \"\",\n\t\t\tstars: 0,\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:4000/product/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tproducts: res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\taxios.get('http://localhost:4000/vendor/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tvendors:res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t// console.log(this.state.products,this.state.vendors);\n\t}\n\n\tordernow = e => {\n\t\tconsole.log(e.currentTarget);\n\t\tthis.setState({\n\t\t\talignment:\"left\",\n\t\t\tdisplay: \"block\",\n\t\t\tvalue: \"\",\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\",\n\t\t\tpid: e.currentTarget.dataset.id,\n\t\t\tpname: e.currentTarget.dataset.name,\n\t\t\tpprice: e.currentTarget.dataset.price,\n\t\t\tpvname: e.currentTarget.dataset.vname,\n\t\t\tpqleft: e.currentTarget.dataset.qleft\n\t\t})\n\t\t// document.getElementBy\n\t\t// console.log(id);\n\t}\n\n\tfindProducts(wordToMatch){\n\t\twordToMatch = wordToMatch.replace(/\\\\/g,\"\\\\\\\\\");\n\t\treturn this.state.products.filter(prod => {\n\t\t\tconst reg = new RegExp(wordToMatch,'gi');\n\t\t\tif(prod.status ==\"Not Dispatched\")\n\t\t\t\treturn prod.name.match(reg);\n\t\t})\n\t}\n\n\tonChange = e => {\n\t\tconsole.log(e.target.id,e.target.value);\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value\n\t\t});\n\n\t\tthis.setState({\n\t\t\talignment:\"center\",\n\t\t\tdisplay:\"none\",\n\t\t\tvalue: \"\",\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\"\n\t\t})\n\n\t};\n\n\thandleChange = e =>{\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value,\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\"\n\t\t});\n\n\t}\n\n\tcalcprice = e =>{\n\t\te.preventDefault();\n\n\t\tconst order = Number(this.state.value);\n\t\tconst qlef = Number(this.state.pqleft);\n\t\tconsole.log(order,qlef);\n\t\tif(order>qlef){\n\t\t\tthis.setState({\n\t\t\t\tcost:\"Not in Stock\",\n\t\t\t\tdisplay2:\"block\",\n\t\t\t\tdisplay1: \"none\",\n\t\t\t\tdisplay3: \"none\"\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tvar cost = order*(Number(this.state.pprice));\n\t\t\tthis.setState({\n\t\t\t\tcost: cost,\n\t\t\t\tdisplay2: \"none\",\n\t\t\t\tdisplay3: \"none\",\n\t\t\t\tdisplay1: \"block\"\n\t\t\t})\n\t\t}\n\n\t}\n\n\tplaceOrder = e => {\n\n\t\te.preventDefault();\n\n\t\tthis.setState({\n\t\t\tdisplay3:\"block\",\n\t\t\tdisplay1:\"none\",\n\t\t\tdisplay2:\"none\",\n\t\t\tdisplay:\"none\"\n\t\t})\n\t\t// console.log(e);\n\t\tconsole.log(this.state.pid,this.state.value);\n\n\t\tconst node={\n\t\t\tvalue:this.state.pid,\n\t\t\torder:this.state.value\n\t\t}\n\t\taxios.post('http://localhost:4000/product/update/',node)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tstatus: res.data \n\t\t\t\t})\n\t\t\t\tconst order = {\n\t\t\t\t\tpid: this.state.pid,\n\t\t\t\t\tpname: this.state.pname,\n\t\t\t\t\tvname: this.state.pvname,\n\t\t\t\t\tsname: this.state.id,\n\t\t\t\t\torder: this.state.value,\n\t\t\t\t\tstatus: this.state.status\n\t\t\t\t}\n\t\t\t\tconsole.log(order);\n\t\t\t\taxios.post('http://localhost:4000/order/add',order)\n\t\t\t\t\t.then(res => { \n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tconst node2 = {\n\t\t\t\t\t\t\tpid: this.state.pid,\n\t\t\t\t\t\t\tsname: this.state.id,\n\t\t\t\t\t\t\tstatus: this.state.status\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(node2);\n\t\t\t\t\t\taxios.post('http://localhost:4000/order/update/status',node2)\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\t\tconst node1 ={\n\t\t\t\t\t\t\t\t\tname:this.state.pvname\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log(node1);\n\t\t\t\t\t\t\t\taxios.post('http://localhost:4000/vendor/vdetails/',node1)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.data.rating,res.data.customers,(res.data.rating)/(res.data.customers));\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tavg:(res.data.rating)/(res.data.customers)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.state.avg);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t})\n\n\n\t}\n\n\tgiverating = e => {\n\t\tconsole.log(e);\n\t\tthis.setState({\n\t\t\tstars: e\n\t\t})\n\t}\n\n\tsubmitrating = e => {\n\t\tconsole.log(e);\n\t\tconst node = {\n\t\t\tname: this.state.pvname,\n\t\t\tstar: this.state.stars\n\t\t}\n\t\tconsole.log(node);\n\t\taxios.post('http://localhost:4000/vendor/rate/',node)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\twindow.location.reload();\n\t\t\t});\n\t\tthis.setState({\n\t\t\talignment:\"center\",\n\t\t\tdisplay3:\"none\"\n\t\t})\n\n\t\t// var avg=0;\n\t\tconst node1={\n\t\t\tname:this.state.pvname,\n\t\t\trating:Math.round(this.state.avg*10)/10\n\t\t}\n\t\tconsole.log(node1);\n\t\taxios.post('http://localhost:4000/product/updatevrating/',node1)\n\t\t\t.then(res => console.log(res.data));\n\n\t\tthis.setState({\n\t\t\tvalue:\"\",\n\t\t\tstar: 0\n\t\t})\n\n\t}\n\n\tsorting(a,b){\n\t\tif(this.state.sort===\"price\")\n\t\t\t\treturn Number(a.price)-Number(b.price);\n\t\telse if(this.state.sort===\"qleft\"){\n\t\t\tconst x1=Number(a.quantity)-Number(a.order);\n\t\t\tconst x2=Number(b.quantity)-Number(b.order);\n\t\t\treturn x1-x2;\n\t\t}\n\t\telse{\n\t\t\treturn b.vrating-a.vrating;\n\t\t}\n\t}\n\n\tgetHighlightedText(text, higlight) {\n\t\tconsole.log(text,higlight);\n    // Split on higlight term and include term into parts, ignore case\n\t    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n\t    return <span style={{ fontSize: \"19px\",width:\"30%\"}}> { parts.map((part) => \n\t        <span style={ part.toLowerCase() === higlight.toLowerCase()?{ backgroundColor:\"lightgreen\" }:{}}>\n\t            { part }\n\t        </span>)\n\t    } </span>;\n}\n\n\tproductsList(){\n\n\t\tlet pros = this.findProducts(this.state.name);\n\t\tpros.sort((a,b) => this.sorting(a,b));\n\t\tlet search=[]\n\t\tpros.map(prod => {\n\t\t\t// const regex = new RegExp(this.state.name,'gi');\n\t\t\tconst qleft=Number(prod.quantity)-Number(prod.order);\n\t\t\tvar currentitem={};\n\t\t\tconst name1 = this.getHighlightedText(prod.name,this.state.name);\n\t\t\t// console.log(name1);\n\t\t\tcurrentitem.name=prod.name;\n\t\t\tcurrentitem.vname=prod.vendorname;\n\t\t\tcurrentitem.price=prod.price;\n\t\t\tcurrentitem.qleft = qleft;\n\t\t\tvar i;\n\t\t\tcurrentitem.vrating=0;\n\t\t\tfor(i=0;i<(this.state.vendors.length);i++){\n\t\t\t\tconst vend=this.state.vendors[i];\n\t\t\t\tif(vend.name===prod.vendorname){\n\t\t\t\t\tif(vend.customers>0){\n\t\t\t\t\t\tvar x=(vend.rating)/(vend.customers);\n\t\t\t\t\t\tcurrentitem.vrating=Math.round(x*10)/10;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsearch.push(<li key={prod._id} onClick={this.ordernow.bind(this)} data-id={prod._id} data-name={currentitem.name} data-price={currentitem.price} data-vname={currentitem.vname} data-qleft={currentitem.qleft}>\n\t\t\t\t\t\t{name1}\n\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"20%\"}}>{currentitem.vname}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"15%\"}}>{currentitem.price}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"20%\"}}>{currentitem.qleft}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"15%\"}}>{currentitem.vrating}</span>\n\t\t\t\t\t\t</li> )\n\t\t\treturn 0;\n\t\t});\n\n\t\treturn search;\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<Router>\n\t\t\t\t<div style={{textAlign:\"right\",fontSize:\"30px\",fontFamily:\"monospace\",color:\"blue\"}}>Hello {this.props.match.params.id}</div>\n\t\t\t<div>\n\t\t\t  <nav style={{ lineWidth:\"1500px\"}}>\n\t\t\t\t<div style={{ display: \"flex\",flexDirection: \"row\",justifyContent: \"space-between\", alignItems: \"center\",flexWrap: \"Wrap\" }}>\n\t\t\t\t\t<div className=\"nav-wrapper white\" style={{ width: \"50%\"}}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={\"/student/\"+this.props.match.params.id+\"/place\"}\n\t\t\t\t\t\t\tstyle={{fontFamily: \"monospace\",fontSize:\"20px\"}}\n\t\t\t\t\t\t\tclassName=\"col s5 brand-logo center black-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPlace Order\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"nav-wrapper white\" style={{ width: \"50%\"}}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={\"/student/\"+this.props.match.params.id+\"/orders\"}\n\t\t\t\t\t\t\tstyle={{fontFamily: \"monospace\",fontSize:\"20px\"}}\n\t\t\t\t\t\t\tclassName=\"col s5 brand-logo center black-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYour Orders\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t    \t  </div>\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/student/:id/place\" component={Place}/>\n\t\t\t\t<Route exact path=\"/student/:id/orders\" component={viewOrders}/>\n\t\t\t</Router>\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}