{"ast":null,"code":"var _jsxFileName = \"/home/mayank/Desktop/sem4/dass/Assignment2/Profit_Makers/frontend/src/components/student/order.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BeautyStars from 'beauty-stars';\nexport default class order extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ordernow = e => {\n      console.log(e.currentTarget);\n      this.setState({\n        alignment: \"left\",\n        display: \"block\",\n        value: \"\",\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\",\n        pname: e.currentTarget.dataset.name,\n        pprice: e.currentTarget.dataset.price,\n        pvname: e.currentTarget.dataset.vname,\n        pqleft: e.currentTarget.dataset.qleft\n      }); // document.getElementBy\n      // console.log(id);\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n      this.setState({\n        alignment: \"center\",\n        display: \"none\",\n        value: \"\",\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\"\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value,\n        display1: \"none\",\n        display2: \"none\",\n        display3: \"none\"\n      });\n    };\n\n    this.calcprice = e => {\n      e.preventDefault();\n      this.setState({\n        value: \"\"\n      });\n      const order = Number(this.state.value);\n      const qlef = Number(this.state.pqleft);\n      console.log(order, qlef);\n\n      if (order > qlef) {\n        this.setState({\n          cost: \"Not in Stock\",\n          display2: \"block\",\n          display1: \"none\",\n          display3: \"none\"\n        });\n      } else {\n        var cost = order * Number(this.state.pprice);\n        this.setState({\n          cost: cost,\n          display2: \"none\",\n          display3: \"none\",\n          display1: \"block\"\n        });\n      }\n    };\n\n    this.placeOrder = e => {\n      e.preventDefault();\n      this.setState({\n        display3: \"block\",\n        display1: \"none\",\n        display2: \"none\",\n        display: \"none\"\n      });\n    };\n\n    this.giverating = e => {\n      console.log(e);\n      this.setState({\n        stars: e\n      });\n    };\n\n    this.findProducts = this.findProducts.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.sorting = this.sorting.bind(this);\n    this.getHighlightedText = this.getHighlightedText.bind(this);\n    this.ordernow = this.ordernow.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.calcprice = this.calcprice.bind(this);\n    this.placeOrder = this.placeOrder.bind(this);\n    this.giverating = this.giverating.bind(this);\n    this.state = {\n      id: this.props.match.params.id,\n      name: \"\",\n      products: [],\n      vendors: [],\n      html1: \"\",\n      sort: \"price\",\n      display: \"none\",\n      display1: \"none\",\n      display2: \"none\",\n      display3: \"none\",\n      alignment: \"center\",\n      pname: \"\",\n      pprice: \"\",\n      pvname: \"\",\n      pqleft: \"\",\n      vrating: \"\",\n      cost: \"\",\n      value: \"\",\n      stars: 0,\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/product/').then(res => {\n      console.log(res.data);\n      this.setState({\n        products: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get('http://localhost:4000/vendor/').then(res => {\n      console.log(res.data);\n      this.setState({\n        vendors: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  findProducts(wordToMatch) {\n    wordToMatch = wordToMatch.replace(/\\\\/g, \"\\\\\\\\\");\n    return this.state.products.filter(prod => {\n      const reg = new RegExp(wordToMatch, 'gi');\n      return prod.name.match(reg);\n    });\n  }\n\n  sorting(a, b) {\n    if (this.state.sort === \"price\") return Number(a.price) - Number(b.price);else if (this.state.sort === \"qleft\") {\n      const x1 = Number(a.quantity) - Number(a.order);\n      const x2 = Number(b.quantity) - Number(b.order);\n      return x2 - x1;\n    } else {\n      return a.name - b.name;\n    }\n  }\n\n  getHighlightedText(text, higlight) {\n    console.log(text, higlight); // Split on higlight term and include term into parts, ignore case\n\n    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n    return React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \" \", parts.map(part => React.createElement(\"span\", {\n      style: part.toLowerCase() === higlight.toLowerCase() ? {\n        backgroundColor: \"lightgreen\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, part)), \" \");\n  }\n\n  productsList() {\n    let pros = this.findProducts(this.state.name);\n    console.log(pros); // console.log(this.state.sort);\n\n    pros.sort((a, b) => this.sorting(a, b)); // console.log(pros);\n\n    let search = [];\n    pros.map(prod => {\n      // const regex = new RegExp(this.state.name,'gi');\n      const qleft = Number(prod.quantity) - Number(prod.order);\n      var currentitem = {};\n      const name1 = this.getHighlightedText(prod.name, this.state.name); // console.log(name1);\n\n      currentitem.name = prod.name;\n      currentitem.vname = prod.vendorname;\n      currentitem.price = prod.price;\n      currentitem.qleft = qleft;\n      console.log(this.state.vendors);\n      var vendrs = this.state.vendors.filter(vendor => vendor.name === currentitem.vname);\n      console.log(vendrs[0]); // currentitem.vrating = vendorslist[0].name;\n      // console.log(currentitem.vrating);\n\n      search.push(React.createElement(\"li\", {\n        key: prod._id,\n        onClick: this.ordernow.bind(this),\n        \"data-id\": prod._id,\n        \"data-name\": currentitem.name,\n        \"data-price\": currentitem.price,\n        \"data-vname\": currentitem.vname,\n        \"data-qleft\": currentitem.qleft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, name1, React.createElement(\"span\", {\n        style: {\n          fontSize: \"19px\",\n          width: \"25%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, currentitem.vname), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, currentitem.price), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, currentitem.qleft), React.createElement(\"span\", {\n        style: {\n          fontSize: \"18px\",\n          width: \"10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, currentitem.vrating)));\n      return 0;\n    });\n    return search;\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\",\n        fontSize: \"30px\",\n        fontFamily: \"Courier New\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Hello \", this.props.match.params.id), React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/student/\" + this.state.id + \"/orders\",\n      style: {\n        fontFamily: \"monospace\",\n        fontSize: \"20px\"\n      },\n      className: \"col s5 brand-logo center black-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Your orders\")), React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        marginTop: \"-4rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Sort By: \"), React.createElement(\"select\", {\n      value: this.state.sort,\n      onChange: this.onChange,\n      id: \"sort\",\n      default: \"added date\",\n      style: {\n        width: \"25%\",\n        marginTop: \"-1.5rem\"\n      },\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"option\", {\n      value: \"qleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Quantity left\"), React.createElement(\"option\", {\n      value: \"rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Rating\"))), React.createElement(\"div\", {\n      className: \"searchp\",\n      style: {\n        float: this.state.alignment\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"search-form\",\n      style: {\n        maxWidth: \"400px\",\n        margin: \"5% auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"Product Name\",\n      style: {\n        margin: \"0px\",\n        textAlign: \"center\",\n        outline: \"0px\",\n        border: \"10px solid #F7F7F7\",\n        width: \"120%\",\n        left: \"0%\",\n        position: \"relative\",\n        top: \"10px\",\n        zIndex: \"2\",\n        borderRadius: \"5px\",\n        fontSize: \"30px\",\n        boxShadow: \"0 0 5px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.19)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"suggestions\",\n      style: {\n        width: \"120%\",\n        left: \"3%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"28%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Product  Name  \")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"35%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"Vendor\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Price\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"15%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Quantity Left\")), React.createElement(\"span\", {\n      style: {\n        fontSize: \"19px\",\n        width: \"15%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Avg-rating\"))), this.productsList()))), React.createElement(\"div\", {\n      style: {\n        display: this.state.display,\n        float: \"right\",\n        marginTop: \"-21rem\"\n      },\n      className: \"input-field col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      style: {\n        float: \"right\",\n        width: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, this.state.pname, \" required: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      id: \"value\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn btn-primary\",\n      onClick: this.calcprice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        display: this.state.display1,\n        float: \"right\",\n        marginTop: \"-7rem\",\n        marginLeft: \"38rem\",\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"green\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"It will cost you: \", this.state.cost), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Place Order\",\n      className: \"btn btn-success\",\n      onClick: this.placeOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        display: this.state.display2,\n        float: \"right\",\n        marginTop: \"-7rem\",\n        marginLeft: \"38rem\",\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, this.state.cost)), React.createElement(\"div\", {\n      style: {\n        display: this.state.display3,\n        float: \"right\",\n        marginTop: \"-20rem\",\n        marginLeft: \"38rem\",\n        width: \"20%\",\n        fontSize: \"20px\",\n        fontFamily: \"Courier New\",\n        color: \"orange\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Rate the Vendor (\", this.state.pvname, \"):\", React.createElement(BeautyStars, {\n      value: this.state.stars,\n      onChange: this.giverating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/mayank/Desktop/sem4/dass/Assignment2/Profit_Makers/frontend/src/components/student/order.js"],"names":["React","Component","BrowserRouter","Router","Link","axios","BeautyStars","order","constructor","props","ordernow","e","console","log","currentTarget","setState","alignment","display","value","display1","display2","display3","pname","dataset","name","pprice","price","pvname","vname","pqleft","qleft","onChange","target","id","handleChange","calcprice","preventDefault","Number","state","qlef","cost","placeOrder","giverating","stars","findProducts","bind","sorting","getHighlightedText","match","params","products","vendors","html1","sort","vrating","errors","componentDidMount","get","then","res","data","catch","err","wordToMatch","replace","filter","prod","reg","RegExp","a","b","x1","quantity","x2","text","higlight","parts","split","fontSize","width","map","part","toLowerCase","backgroundColor","productsList","pros","search","currentitem","name1","vendorname","vendrs","vendor","push","_id","render","textAlign","fontFamily","color","float","marginTop","maxWidth","margin","outline","border","left","position","top","zIndex","borderRadius","boxShadow","marginLeft"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter as Router,Link} from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BeautyStars from 'beauty-stars';\n\nexport default class order extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.findProducts = this.findProducts.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.sorting = this.sorting.bind(this);\n\t\tthis.getHighlightedText = this.getHighlightedText.bind(this);\n\t\tthis.ordernow = this.ordernow.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.calcprice = this.calcprice.bind(this);\n\t\tthis.placeOrder = this.placeOrder.bind(this);\n\t\tthis.giverating = this.giverating.bind(this);\n\n\t\tthis.state = {\n\t\t\tid:this.props.match.params.id,\n\t\t\tname: \"\",\n\t\t\tproducts: [],\n\t\t\tvendors: [],\n\t\t\thtml1: \"\",\n\t\t\tsort: \"price\",\n\t\t\tdisplay:\"none\",\n\t\t\tdisplay1 : \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\",\n\t\t\talignment:\"center\",\n\t\t\tpname:\"\",\n\t\t\tpprice:\"\",\n\t\t\tpvname: \"\",\n\t\t\tpqleft: \"\",\n\t\t\tvrating: \"\",\n\t\t\tcost: \"\",\n\t\t\tvalue: \"\",\n\t\t\tstars: 0,\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:4000/product/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tproducts: res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\taxios.get('http://localhost:4000/vendor/')\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tvendors: res.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tordernow = e => {\n\t\tconsole.log(e.currentTarget);\n\t\tthis.setState({\n\t\t\talignment:\"left\",\n\t\t\tdisplay: \"block\",\n\t\t\tvalue: \"\",\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\",\n\t\t\tpname: e.currentTarget.dataset.name,\n\t\t\tpprice: e.currentTarget.dataset.price,\n\t\t\tpvname: e.currentTarget.dataset.vname,\n\t\t\tpqleft: e.currentTarget.dataset.qleft\n\t\t})\n\t\t// document.getElementBy\n\t\t// console.log(id);\n\t}\n\n\tfindProducts(wordToMatch){\n\t\twordToMatch = wordToMatch.replace(/\\\\/g,\"\\\\\\\\\");\n\t\treturn this.state.products.filter(prod => {\n\t\t\tconst reg = new RegExp(wordToMatch,'gi');\n\t\t\treturn prod.name.match(reg);\n\t\t})\n\t}\n\n\tonChange = e => {\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value\n\t\t});\n\n\t\tthis.setState({\n\t\t\talignment:\"center\",\n\t\t\tdisplay:\"none\",\n\t\t\tvalue: \"\",\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\"\n\t\t})\n\n\t};\n\n\thandleChange = e =>{\n\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value,\n\t\t\tdisplay1: \"none\",\n\t\t\tdisplay2: \"none\",\n\t\t\tdisplay3: \"none\"\n\t\t});\n\n\t}\n\n\tcalcprice = e =>{\n\t\te.preventDefault();\n\n\t\tthis.setState({\n\t\t\tvalue:\"\"\n\t\t})\n\t\tconst order = Number(this.state.value);\n\t\tconst qlef = Number(this.state.pqleft);\n\t\tconsole.log(order,qlef);\n\t\tif(order>qlef){\n\t\t\tthis.setState({\n\t\t\t\tcost:\"Not in Stock\",\n\t\t\t\tdisplay2:\"block\",\n\t\t\t\tdisplay1: \"none\",\n\t\t\t\tdisplay3: \"none\"\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tvar cost = order*(Number(this.state.pprice));\n\t\t\tthis.setState({\n\t\t\t\tcost: cost,\n\t\t\t\tdisplay2: \"none\",\n\t\t\t\tdisplay3: \"none\",\n\t\t\t\tdisplay1: \"block\"\n\t\t\t})\n\t\t}\n\n\t}\n\n\tplaceOrder = e => {\n\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\tdisplay3:\"block\",\n\t\t\tdisplay1:\"none\",\n\t\t\tdisplay2:\"none\",\n\t\t\tdisplay:\"none\"\n\t\t})\n\n\t}\n\n\tgiverating = e => {\n\t\tconsole.log(e)\n\t\tthis.setState({\n\t\t\tstars: e\n\t\t})\n\t}\n\n\tsorting(a,b){\n\t\tif(this.state.sort===\"price\")\n\t\t\t\treturn Number(a.price)-Number(b.price);\n\t\telse if(this.state.sort===\"qleft\"){\n\t\t\tconst x1=Number(a.quantity)-Number(a.order);\n\t\t\tconst x2=Number(b.quantity)-Number(b.order);\n\t\t\treturn x2-x1;\n\t\t}\n\t\telse{\n\t\t\treturn a.name-b.name;\n\t\t}\n\t}\n\n\tgetHighlightedText(text, higlight) {\n\t\tconsole.log(text,higlight);\n    // Split on higlight term and include term into parts, ignore case\n\t    const parts = text.split(new RegExp(`(${higlight})`, 'gi'));\n\t    return <span style={{ fontSize: \"19px\",width:\"20%\"}}> { parts.map((part) => \n\t        <span style={ part.toLowerCase() === higlight.toLowerCase()?{ backgroundColor:\"lightgreen\" }:{}}>\n\t            { part }\n\t        </span>)\n\t    } </span>;\n}\n\n\tproductsList(){\n\t\tlet pros = this.findProducts(this.state.name);\n\t\tconsole.log(pros);\n\t\t// console.log(this.state.sort);\n\t\tpros.sort((a,b) => this.sorting(a,b));\n\t\t// console.log(pros);\n\t\tlet search=[]\n\t\tpros.map(prod => {\n\t\t\t// const regex = new RegExp(this.state.name,'gi');\n\t\t\tconst qleft=Number(prod.quantity)-Number(prod.order);\n\t\t\tvar currentitem={};\n\t\t\tconst name1 = this.getHighlightedText(prod.name,this.state.name);\n\t\t\t// console.log(name1);\n\t\t\tcurrentitem.name=prod.name;\n\t\t\tcurrentitem.vname=prod.vendorname;\n\t\t\tcurrentitem.price=prod.price;\n\t\t\tcurrentitem.qleft = qleft;\n\t\t\tconsole.log(this.state.vendors);\n\t\t\tvar vendrs = this.state.vendors.filter(vendor => vendor.name===currentitem.vname)\n\t\t\tconsole.log(vendrs[0]);\n\t\t\t// currentitem.vrating = vendorslist[0].name;\n\t\t\t// console.log(currentitem.vrating);\n\t\t\tsearch.push(<li key={prod._id} onClick={this.ordernow.bind(this)} data-id={prod._id} data-name={currentitem.name} data-price={currentitem.price} data-vname={currentitem.vname} data-qleft={currentitem.qleft}>\n\t\t\t\t\t\t{name1}\n\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"25%\"}}>{currentitem.vname}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"15%\"}}>{currentitem.price}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"10%\"}}>{currentitem.qleft}</span>\n\t\t\t\t\t\t<span style={{ fontSize: \"18px\",width:\"10%\"}}>{currentitem.vrating}</span>\n\t\t\t\t\t\t</li> )\n\t\t\treturn 0;\n\t\t});\n\n\t\treturn search;\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<Router>\n\t\t\t<div style={{textAlign:\"right\",fontSize:\"30px\",fontFamily:\"Courier New\",color:\"blue\"}}>Hello {this.props.match.params.id}</div>\n\t\t\t\t<div style={{textAlign:\"right\"}}>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={\"/student/\"+this.state.id+\"/orders\"}\n\t\t\t\t\t\tstyle={{fontFamily: \"monospace\",fontSize:\"20px\"}}\n\t\t\t\t\t\tclassName=\"col s5 brand-logo center black-text\"\n\t\t\t\t\t>\n\t\t\t\t\tYour orders\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-field col s12\" style={{float:\"left\"}}>\n\t\t\t\t\t<label style={{marginTop:\"-4rem\"}}>Sort By: </label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tvalue={this.state.sort}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tid=\"sort\"\n\t\t\t\t\t\tdefault=\"added date\"\n\t\t\t\t\t\tstyle={{width:\"25%\",marginTop:\"-1.5rem\"}}\n\t\t\t\t\t\tclassName=\"form-control\">\n\t\t\t\t\t\t<option value=\"price\">Price</option>\n\t\t\t\t\t\t<option value=\"qleft\">Quantity left</option>\n\t\t\t\t\t\t<option value=\"rating\">Rating</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"searchp\" style={{float:this.state.alignment}}>\n\t\t\t\t<form className=\"search-form\" style={{maxWidth: \"400px\",margin:\"5% auto\"}}>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"text\"  \n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tvalue= {this.state.name}\n\t\t\t\t\t\tonChange= {this.onChange}\n\t\t\t\t\t\tplaceholder =\"Product Name\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"0px\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\toutline: \"0px\",\n\t\t\t\t\t\t\tborder: \"10px solid #F7F7F7\",\n\t\t\t\t\t\t\twidth: \"120%\",\n\t\t\t\t\t\t\tleft: \"0%\",\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t\ttop: \"10px\",\n\t\t\t\t\t\t\tzIndex: \"2\",\n\t\t\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\t\t\tfontSize: \"30px\",\n\t\t\t\t\t\t\tboxShadow: \"0 0 5px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.19)\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<ul className=\"suggestions\" style={{width:\"120%\",left:\"3%\"}}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"28%\"}}><b>Product  Name  </b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"35%\"}}><b>Vendor</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"20%\"}}><b>Price</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"15%\"}}><b>Quantity Left</b></span>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"19px\",width:\"15%\"}}><b>Avg-rating</b></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{this.productsList()}\n\t\t\t\t\t</ul>\n\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display,float:\"right\",marginTop:\"-21rem\"}} className=\"input-field col s12\">\n\t\t\t\t\t<form style={{float:\"right\",width:\"20%\"}}>\n\t\t\t\t\t\t<label style={{fontSize:\"20px\",fontFamily:\"Courier New\",color:\"blue\"}}>\n\t\t\t\t\t\t\t<b>{this.state.pname} required: </b>\n\t\t\t\t\t\t\t<input type=\"text\" value={this.state.value}\n\t\t\t\t\t\t\t\tid=\"value\"\n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" onClick={this.calcprice} />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display1,float:\"right\",marginTop:\"-7rem\",marginLeft:\"38rem\",fontSize:\"20px\",fontFamily:\"Courier New\",color:\"green\"}}>\n\t\t\t\t\t\t<b>It will cost you: {this.state.cost}</b>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Place Order\" className=\"btn btn-success\" onClick={this.placeOrder}/>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display2,float:\"right\",marginTop:\"-7rem\",marginLeft:\"38rem\",fontSize:\"20px\",fontFamily:\"Courier New\",color:\"red\"}}>\n\t\t\t\t\t<b>{this.state.cost}</b>\n\t\t\t\t</div>\n\t\t\t\t<div style={{display:this.state.display3,float:\"right\",marginTop:\"-20rem\",marginLeft:\"38rem\",width:\"20%\",fontSize:\"20px\",fontFamily:\"Courier New\",color:\"orange\"}}>\n\t\t\t\t\tRate the Vendor ({this.state.pvname}):\n\t\t\t\t\t\t<BeautyStars\n\t\t\t\t\t\t\tvalue={this.state.stars}\n\t\t\t\t\t\t\tonChange={this.giverating}\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}